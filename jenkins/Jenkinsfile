// First we'll generate a text file in a subdirectory on one node and stash it.
stage "first step on first node"

// Run on a node with the "first-node" label.
stage('first-node') {
    // Make the output directory.
print 'first stage test'
    print 'first stage test finished'
}

// Next, we'll make a new directory on a second node, and unstash the original
// into that new directory, rather than into the root of the build.
stage "second step on second node"

// Run on a node with the "second-node" label.
stage('second-node') {
    print 'second stage test'
    // And look, output directory is there under first-stash!
    sh "ls -la"
    print 'second stage test finished'
}
